---


---

<pre class=" language-python"><code class="prism  language-python">fig<span class="token operator">=</span>plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">from</span> mpl_toolkits<span class="token punctuation">.</span>basemap <span class="token keyword">import</span> Basemap
<span class="token keyword">from</span> matplotlib <span class="token keyword">import</span> animation<span class="token punctuation">,</span>rc
<span class="token keyword">def</span> <span class="token function">animate</span><span class="token punctuation">(</span>Hour<span class="token punctuation">)</span><span class="token punctuation">:</span>
    ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>axes<span class="token punctuation">(</span><span class="token punctuation">)</span>
    ax<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span>
    ax<span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">'Photos Clicked '</span><span class="token operator">+</span><span class="token string">'\n'</span><span class="token operator">+</span><span class="token string">'Hour:'</span> <span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>Hour<span class="token punctuation">)</span><span class="token punctuation">)</span>
    m6 <span class="token operator">=</span> Basemap<span class="token punctuation">(</span>llcrnrlon<span class="token operator">=</span><span class="token operator">-</span><span class="token number">119</span><span class="token punctuation">,</span>llcrnrlat<span class="token operator">=</span><span class="token number">22</span><span class="token punctuation">,</span>urcrnrlon<span class="token operator">=</span><span class="token operator">-</span><span class="token number">64</span><span class="token punctuation">,</span>urcrnrlat<span class="token operator">=</span><span class="token number">49</span><span class="token punctuation">,</span>
        projection<span class="token operator">=</span><span class="token string">'lcc'</span><span class="token punctuation">,</span>lat_1<span class="token operator">=</span><span class="token number">33</span><span class="token punctuation">,</span>lat_2<span class="token operator">=</span><span class="token number">45</span><span class="token punctuation">,</span>lon_0<span class="token operator">=</span><span class="token operator">-</span><span class="token number">95</span><span class="token punctuation">)</span>
    lat_gif1<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span>rel<span class="token punctuation">[</span>rel<span class="token punctuation">[</span><span class="token string">'hour'</span><span class="token punctuation">]</span><span class="token operator">==</span>Hour<span class="token punctuation">]</span><span class="token punctuation">.</span>lat<span class="token punctuation">)</span>
    long_gif1<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span>rel<span class="token punctuation">[</span>rel<span class="token punctuation">[</span><span class="token string">'hour'</span><span class="token punctuation">]</span><span class="token operator">==</span>Hour<span class="token punctuation">]</span><span class="token punctuation">.</span>lon<span class="token punctuation">)</span>
    x_gif1<span class="token punctuation">,</span>y_gif1<span class="token operator">=</span>m6<span class="token punctuation">(</span>long_gif1<span class="token punctuation">,</span>lat_gif1<span class="token punctuation">)</span>
    m6<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>x_gif1<span class="token punctuation">,</span> y_gif1<span class="token punctuation">,</span>color <span class="token operator">=</span><span class="token string">'r'</span><span class="token punctuation">)</span> 
    m6<span class="token punctuation">.</span>drawcoastlines<span class="token punctuation">(</span><span class="token punctuation">)</span>
    m6<span class="token punctuation">.</span>drawcountries<span class="token punctuation">(</span><span class="token punctuation">)</span>
    m6<span class="token punctuation">.</span>fillcontinents<span class="token punctuation">(</span>color<span class="token operator">=</span><span class="token string">'coral'</span><span class="token punctuation">,</span>lake_color<span class="token operator">=</span><span class="token string">'aqua'</span><span class="token punctuation">,</span> zorder <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>alpha<span class="token operator">=</span><span class="token number">0.4</span><span class="token punctuation">)</span>
    m6<span class="token punctuation">.</span>drawmapboundary<span class="token punctuation">(</span>fill_color<span class="token operator">=</span><span class="token string">'aqua'</span><span class="token punctuation">)</span>
ani <span class="token operator">=</span> animation<span class="token punctuation">.</span>FuncAnimation<span class="token punctuation">(</span>fig<span class="token punctuation">,</span>animate<span class="token punctuation">,</span><span class="token builtin">list</span><span class="token punctuation">(</span>rel<span class="token punctuation">.</span>hour<span class="token punctuation">.</span>unique<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> interval <span class="token operator">=</span> <span class="token number">1500</span><span class="token punctuation">)</span>    
ani<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'animation.gif'</span><span class="token punctuation">,</span> writer<span class="token operator">=</span><span class="token string">'imagemagick'</span><span class="token punctuation">,</span> fps<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
filename <span class="token operator">=</span> <span class="token string">'animation.gif'</span>
video <span class="token operator">=</span> io<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'r+b'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
encoded <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64encode<span class="token punctuation">(</span>video<span class="token punctuation">)</span>
HTML<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token triple-quoted-string string">'''&lt;img src="data:image/gif;base64,{0}" type="gif" /&gt;'''</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>encoded<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'ascii'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="https://i.imgur.com/fIQk6jy.gif" alt="Image"></p>
<p>Source - 	<a href="https://www.kaggle.com/ash316/kb-mb-gb-tb-b-bigquery">https://www.kaggle.com/ash316/kb-mb-gb-tb-b-bigquery</a></p>

